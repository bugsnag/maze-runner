<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Step Definitions and Transforms
  
    &mdash; Documentation by YARD 0.9.19
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/cucumber.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "requirements::step_transformers";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/cucumber.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../stepdefinition_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (s)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../requirements.html" title="requirements (requirements)">requirements</a></span></span>
     &raquo; 
    <span class="title">step_transformers</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="stepdefinition_list_link"
        href="../stepdefinition_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div class="requirements">
  <div class="title">Step Definitions &amp; Transforms</div>

  <div class="summary">
    <div>93<a href="#step_definitions">Step Definitions</a></div>
    <div>0<a href="#step_transforms">Step Transforms</a></div>
    <div>0<a href="#undefined_steps">Undefined Steps</a></div>
  </div>

</div><div class="title">
  
     <a class="control" id="stepdefinition">[Collapse All]</a>
     <div style="clear: right;"></div>
   
 
  
    <a name="step_definitions">
  
  <div class="name">Step Definitions</div>
</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition93-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"each element in payload field {string} has {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22each+element+in+payload+field+%7Bstring%7D+has+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:348</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that every element in an array contains a specified key-value pair.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key_path [String] The path to the tested array</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>element_key_path [String] The key for the expected element inside the array</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">348
349
350
351
352
353
354
355</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>each element in payload field {string} has {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key_path'>key_path</span><span class='comma'>,</span> <span class='id identifier rubyid_element_key_path'>element_key_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_key_path'>key_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element'>element</span><span class='op'>|</span>
    <span class='id identifier rubyid_assert_not_nil'>assert_not_nil</span><span class='lparen'>(</span><span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_element'>element</span><span class='comma'>,</span> <span class='id identifier rubyid_element_key_path'>element_key_path</span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Each element in &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key_path'>key_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; must have &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_element_key_path'>element_key_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition2-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} equals the stored value {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+equals+the+stored+value+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/value_steps.rb:16</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a payload field matches a previously stored payload value</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload field to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The key indicating a previously stored value</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">16
17
18
19
20
21</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} equals the stored value {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
  <span class='id identifier rubyid_payload_value'>payload_value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_stored_value'>stored_value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Store.html" title="Store (class)">Store</a></span></span><span class='period'>.</span><span class='id identifier rubyid_values'><span class='object_link'><a href="../Store.html#values-class_method" title="Store.values (method)">values</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_value_compare'><span class='object_link'><a href="../top-level-namespace.html#value_compare-instance_method" title="#value_compare (method)">value_compare</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_payload_value'>payload_value</span><span class='comma'>,</span> <span class='id identifier rubyid_stored_value'>stored_value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_true'>assert_true</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Payload value: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payload_value'>payload_value</span><span class='embexpr_end'>}</span><span class='tstring_content'> does not equal stored value: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stored_value'>stored_value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition3-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} does not equal the stored value {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+does+not+equal+the+stored+value+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/value_steps.rb:27</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a payload field is distinct from a previously stored payload
value</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload field to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The key indicating a previously stored value</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">27
28
29
30
31
32</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} does not equal the stored value {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
  <span class='id identifier rubyid_payload_value'>payload_value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_stored_value'>stored_value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Store.html" title="Store (class)">Store</a></span></span><span class='period'>.</span><span class='id identifier rubyid_values'><span class='object_link'><a href="../Store.html#values-class_method" title="Store.values (method)">values</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_value_compare'><span class='object_link'><a href="../top-level-namespace.html#value_compare-instance_method" title="#value_compare (method)">value_compare</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_payload_value'>payload_value</span><span class='comma'>,</span> <span class='id identifier rubyid_stored_value'>stored_value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_false'>assert_false</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Payload value: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payload_value'>payload_value</span><span class='embexpr_end'>}</span><span class='tstring_content'> equals stored value: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_stored_value'>stored_value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition4-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I set environment variable {string} to {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+set+environment+variable+%7Bstring%7D+to+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:7</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Sets an environment variable for subsequent scripts or commands.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The environment variable</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>value [String] The intended value of the environment variable</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">7
8
9</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I set environment variable {string} to {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
  <span class='const'><span class='object_link'><a href="../Runner.html" title="Runner (class)">Runner</a></span></span><span class='period'>.</span><span class='id identifier rubyid_environment'><span class='object_link'><a href="../Runner.html#environment-class_method" title="Runner.environment (method)">environment</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition5-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I store the endpoint in the environment variable {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+store+the+endpoint+in+the+environment+variable+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:14</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Sets an environment variable to the server endpoint.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>name [String] The environment variable</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">14
15
16
17
18</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I store the endpoint in the environment variable {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    When I set environment variable &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; to &quot;http://maze-runner:</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../top-level-namespace.html#MOCK_API_PORT-constant" title="MOCK_API_PORT (constant)">MOCK_API_PORT</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition6-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I store the api key in the environment variable {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+store+the+api+key+in+the+environment+variable+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:23</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Sets an environment variable to the currently set API key.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>name [String] The environment variable</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">23
24
25
26
27</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I store the api key in the environment variable {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    When I set environment variable &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot; to &quot;</span><span class='embexpr_beg'>#{</span><span class='gvar'>$api_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition7-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I run the script {string} synchronously"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+run+the+script+%7Bstring%7D+synchronously%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:32</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Runs a script, blocking until it returns.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>script_path [String] Path to the script to be run</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">32
33
34</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I run the script {string} synchronously</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_script_path'>script_path</span><span class='op'>|</span>
  <span class='const'><span class='object_link'><a href="../Runner.html" title="Runner (class)">Runner</a></span></span><span class='period'>.</span><span class='id identifier rubyid_run_script'><span class='object_link'><a href="../Runner.html#run_script-class_method" title="Runner.run_script (method)">run_script</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_script_path'>script_path</span><span class='comma'>,</span> <span class='label'>blocking:</span> <span class='kw'>true</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition8-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I run the script {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+run+the+script+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:39</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Runs a script.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>script_path [String] Path to the script to be run</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">39
40
41</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I run the script {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_script_path'>script_path</span><span class='op'>|</span>
  <span class='const'><span class='object_link'><a href="../Runner.html" title="Runner (class)">Runner</a></span></span><span class='period'>.</span><span class='id identifier rubyid_run_script'><span class='object_link'><a href="../Runner.html#run_script-class_method" title="Runner.run_script (method)">run_script</a></span></span> <span class='id identifier rubyid_script_path'>script_path</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition9-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I start the service {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+start+the+service+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:46</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Starts a docker-compose service.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>service [String] The name of the service to run</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">46
47
48</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I start the service {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_service'>service</span><span class='op'>|</span>
  <span class='const'><span class='object_link'><a href="../Docker.html" title="Docker (class)">Docker</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start_service'><span class='object_link'><a href="../Docker.html#start_service-class_method" title="Docker.start_service (method)">start_service</a></span></span> <span class='id identifier rubyid_service'>service</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition10-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I run the service {string} with the command {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+run+the+service+%7Bstring%7D+with+the+command+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:54</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Runs a docker-compose service using a specific command.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>service [String] The name of the service to run</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>command [String] The command to run inside the service</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">54
55
56</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I run the service {string} with the command {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='id identifier rubyid_command'>command</span><span class='op'>|</span>
  <span class='const'><span class='object_link'><a href="../Docker.html" title="Docker (class)">Docker</a></span></span><span class='period'>.</span><span class='id identifier rubyid_start_service'><span class='object_link'><a href="../Docker.html#start_service-class_method" title="Docker.start_service (method)">start_service</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_service'>service</span><span class='comma'>,</span> <span class='label'>command:</span> <span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition11-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I wait for {int} second(s)"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+wait+for+%7Bint%7D+second(s)%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/runner_steps.rb:61</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Waits for a number of seconds, performing no actions.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>seconds [Integer] The number of seconds to sleep for</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">61
62
63
64</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I wait for {int} second(s)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_seconds'>seconds</span><span class='op'>|</span>
  <span class='gvar'>$logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sleep was used! Please avoid using sleep in tests!</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_sleep'>sleep</span><span class='lparen'>(</span><span class='id identifier rubyid_seconds'>seconds</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition12-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I start Android emulator {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+start+Android+emulator+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/android_steps.rb:6</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Starts an Android emulator available within the local environment</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>emulator [String] The name of the emulator to start</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">6
7
8
9
10
11
12</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I start Android emulator {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_emulator'>emulator</span><span class='op'>|</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    When I set environment variable &quot;ANDROID_EMULATOR&quot; to &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_emulator'>emulator</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And I run the script &quot;launch-android-emulator.sh&quot;
    And I run the script &quot;await-android-emulator.sh&quot; synchronously
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition13-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I clear the Android app data"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+clear+the+Android+app+data%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/android_steps.rb:16</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Synchronously clears the data for the test application Requires an ADB
connection</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">16
17
18</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I clear the Android app data</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_step'>step</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>I run the script &quot;clear-android-app-data.sh&quot; synchronously</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition14-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I force stop the Android app"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+force+stop+the+Android+app%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/android_steps.rb:22</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Force stops the test application Requires an ADB connection</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">22
23
24</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I force stop the Android app</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_step'>step</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>I run the script &quot;force-stop-android-app.sh&quot; synchronously</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition15-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I install the {string} Android app from {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+install+the+%7Bstring%7D+Android+app+from+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/android_steps.rb:31</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Installs a given bundle from an APK onto a device Requires an ADB
connection</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>bundle [String] The bundle to be installed</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>filepath [String] The path to the application&#39;s .apk</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">31
32
33
34
35
36
37</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I install the {string} Android app from {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_bundle'>bundle</span><span class='comma'>,</span> <span class='id identifier rubyid_filepath'>filepath</span><span class='op'>|</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    When I set environment variable &quot;APP_BUNDLE&quot; to &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_bundle'>bundle</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And I set environment variable &quot;APK_PATH&quot; to &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_filepath'>filepath</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And I run the script &quot;install-android-app.sh&quot; synchronously
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition16-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I start the {string} Android app using the {string} activity"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+start+the+%7Bstring%7D+Android+app+using+the+%7Bstring%7D+activity%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/android_steps.rb:44</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Starts a specific activity for a given app Requires an ADB connection</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>app [String] The application name</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>activity [String] The activity to start</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">44
45
46
47
48
49
50
51</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I start the {string} Android app using the {string} activity</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_app'>app</span><span class='comma'>,</span> <span class='id identifier rubyid_activity'>activity</span><span class='op'>|</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    When I set environment variable &quot;APP_BUNDLE&quot; to &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_app'>app</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    When I set environment variable &quot;APP_ACTIVITY&quot; to &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_activity'>activity</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And I run the script &quot;launch-android-app.sh&quot; synchronously
    And I wait for 4 seconds
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition17-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I wait for the host {string} to open port {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+wait+for+the+host+%7Bstring%7D+to+open+port+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/network_steps.rb:7</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Checks that a port on a given host is open and ready for connections.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>host [String] The host to check</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>port [String] The port to check</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">7
8
9</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I wait for the host {string} to open port {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='op'>|</span>
  <span class='const'><span class='object_link'><a href="../Network.html" title="Network (class)">Network</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wait_for_port'><span class='object_link'><a href="../Network.html#wait_for_port-class_method" title="Network.wait_for_port (method)">wait_for_port</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition18-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I open the URL {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+open+the+URL+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/network_steps.rb:14</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Attempts to open a URL.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>url [String] The URL to open.</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">14
15
16
17
18
19
20</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I open the URL {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_url'>url</span><span class='op'>|</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_url'>url</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbol'>:read</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='const'>OpenURI</span><span class='op'>::</span><span class='const'>HTTPError</span>
    <span class='gvar'>$logger</span><span class='period'>.</span><span class='id identifier rubyid_debug'>debug</span> <span class='gvar'>$!</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition19-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the request is valid for the Build API"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+request+is+valid+for+the+Build+API%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/build_api_steps.rb:5</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether the top-most payload is valid for the Bugsnag build API
APIKey fields and headers are tested against the &#39;$api_key&#39; global
variable</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">5
6
7
8
9
10</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the request is valid for the Build API</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    And the payload field &quot;apiKey&quot; equals &quot;</span><span class='embexpr_beg'>#{</span><span class='gvar'>$api_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    the payload field &quot;appVersion&quot; is not null
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition20-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the request is valid for the Android Mapping API"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+request+is+valid+for+the+Android+Mapping+API%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/build_api_steps.rb:14</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether the top-most payload is valid for the Android mapping API
APIKey fields and headers are tested against the &#39;$api_key&#39; global
variable</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">14
15
16
17
18
19
20
21
22
23</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the request is valid for the Android Mapping API</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    And the payload field &quot;apiKey&quot; equals &quot;</span><span class='embexpr_beg'>#{</span><span class='gvar'>$api_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    the payload field &quot;proguard&quot; is not null
    the payload field &quot;appId&quot; is not null
    the payload field &quot;versionCode&quot; is not null
    the payload field &quot;buildUUID&quot; is not null
    the payload field &quot;versionName&quot; is not null
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition21-stepdefinition"></a>
  <div class="title">
    <span class="pre">Given</span>
    <span class="name">"the element {string} is present"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+element+%7Bstring%7D+is+present%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/app_automator_steps.rb:7</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Checks a UI element is present Requires a running Appium driver</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>element_id [String] The locator id</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">7
8
9
10</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Given</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the element {string} is present</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element_id'>element_id</span><span class='op'>|</span>
  <span class='id identifier rubyid_present'>present</span> <span class='op'>=</span> <span class='gvar'>$driver</span><span class='period'>.</span><span class='id identifier rubyid_wait_for_element'>wait_for_element</span><span class='lparen'>(</span><span class='id identifier rubyid_element_id'>element_id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert'>assert</span><span class='lparen'>(</span><span class='id identifier rubyid_present'>present</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The element </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_element_id'>element_id</span><span class='embexpr_end'>}</span><span class='tstring_content'> could not be found</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition22-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I click the element {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+click+the+element+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/app_automator_steps.rb:16</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Clicks a given element Requires a running Appium driver</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>element_id [String] The locator id</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">16
17
18</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I click the element {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_element_id'>element_id</span><span class='op'>|</span>
  <span class='gvar'>$driver</span><span class='period'>.</span><span class='id identifier rubyid_click_element'>click_element</span><span class='lparen'>(</span><span class='id identifier rubyid_element_id'>element_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition23-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I send the app to the background for {int} seconds"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+send+the+app+to+the+background+for+%7Bint%7D+seconds%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/app_automator_steps.rb:24</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Sends the app to the background for a number of seconds Requires a running
Appium driver</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>timeout [Integer] The amount of time the app is in the background in
seconds</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">24
25
26</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I send the app to the background for {int} seconds</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_timeout'>timeout</span><span class='op'>|</span>
  <span class='gvar'>$driver</span><span class='period'>.</span><span class='id identifier rubyid_background_app'>background_app</span><span class='lparen'>(</span><span class='id identifier rubyid_timeout'>timeout</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition24-stepdefinition"></a>
  <div class="title">
    <span class="pre">When</span>
    <span class="name">"I send the keys {string} to the element {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+send+the+keys+%7Bstring%7D+to+the+element+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/app_automator_steps.rb:33</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Sends keys to a given element Requires a running Appium driver</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>keys [String] The keys to send to the element</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>element_id [String] The locator id</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">33
34
35</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>When</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I send the keys {string} to the element {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_keys'>keys</span><span class='comma'>,</span> <span class='id identifier rubyid_element_id'>element_id</span><span class='op'>|</span>
  <span class='gvar'>$driver</span><span class='period'>.</span><span class='id identifier rubyid_send_keys_to_element'>send_keys_to_element</span><span class='lparen'>(</span><span class='id identifier rubyid_element_id'>element_id</span><span class='comma'>,</span> <span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition25-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the request is valid for the error reporting API version {string} for the {string} notifier"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+request+is+valid+for+the+error+reporting+API+version+%7Bstring%7D+for+the+%7Bstring%7D+notifier%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:8</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Verifies that generic elements of an error payload are present. APIKey
fields and headers are tested against the &#39;$api_key&#39; global
variable.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>payload_version [String] The payload version expected</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>notifier_name [String] The expected name of the notifier</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the request is valid for the error reporting API version {string} for the {string} notifier</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_payload_version'>payload_version</span><span class='comma'>,</span> <span class='id identifier rubyid_notifier_name'>notifier_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    Then the &quot;Bugsnag-Api-Key&quot; header equals &quot;</span><span class='embexpr_beg'>#{</span><span class='gvar'>$api_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the payload field &quot;apiKey&quot; equals &quot;</span><span class='embexpr_beg'>#{</span><span class='gvar'>$api_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the &quot;Bugsnag-Payload-Version&quot; header equals &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payload_version'>payload_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the payload contains the payloadVersion &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payload_version'>payload_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the &quot;Content-Type&quot; header equals &quot;application/json&quot;
    And the &quot;Bugsnag-Sent-At&quot; header is a timestamp

    And the payload field &quot;notifier.name&quot; equals &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_notifier_name'>notifier_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the payload field &quot;notifier.url&quot; is not null
    And the payload field &quot;notifier.version&quot; is not null
    And the payload field &quot;events&quot; is a non-empty array

    And each element in payload field &quot;events&quot; has &quot;severity&quot;
    And each element in payload field &quot;events&quot; has &quot;severityReason.type&quot;
    And each element in payload field &quot;events&quot; has &quot;unhandled&quot;
    And each element in payload field &quot;events&quot; has &quot;exceptions&quot;
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition26-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload contains the payloadVersion {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+contains+the+payloadVersion+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:34</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Checks the payloadVersion is set correctly.</p>

<pre class="code ruby"><code class="ruby">For Javascript this should be in the events.
For all other notifiers this should be a top-level key.
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>payload_version [String] The payload version expected</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">34
35
36
37
38
39
40</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload contains the payloadVersion {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_payload_version'>payload_version</span><span class='op'>|</span>
  <span class='id identifier rubyid_body_version'>body_version</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>payloadVersion</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_body_set'>body_set</span> <span class='op'>=</span> <span class='id identifier rubyid_payload_version'>payload_version</span> <span class='op'>==</span> <span class='id identifier rubyid_body_version'>body_version</span>
  <span class='id identifier rubyid_event_version'>event_version</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events.0.payloadVersion</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_event_set'>event_set</span> <span class='op'>=</span> <span class='id identifier rubyid_payload_version'>payload_version</span> <span class='op'>==</span> <span class='id identifier rubyid_event_version'>event_version</span>
  <span class='id identifier rubyid_assert_true'>assert_true</span><span class='lparen'>(</span><span class='id identifier rubyid_body_set'>body_set</span> <span class='op'>||</span> <span class='id identifier rubyid_event_set'>event_set</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The payloadVersion was not the expected value of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payload_version'>payload_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>. </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_body_version'>body_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> found in body, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_event_version'>event_version</span><span class='embexpr_end'>}</span><span class='tstring_content'> found in event</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition27-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">/^the event "(.+)" is (true|false|null|not null)$/</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%2F%5Ethe+event+%22(%2E%2B)%22+is+(true%7Cfalse%7Cnull%7Cnot+null)$%2F" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:46</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry matches a literal.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>literal [Enum] The literal to test against, one of: true, false, null, not
null</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">46
47
48</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^the event &quot;(.+)&quot; is (true|false|null|not null)$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_literal'>literal</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_literal'>literal</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition28-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:54</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry matches a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">54
55
56</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition29-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} equals {int}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+equals+%7Bint%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:62</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry equals an integer.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>value [Integer] The integer to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">62
63
64</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} equals {int}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition30-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} starts with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+starts+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:70</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry starts with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">70
71
72</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} starts with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; starts with \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition31-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} ends with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+ends+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:78</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry ends with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">78
79
80</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} ends with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; ends with \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition32-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} matches {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+matches+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:86</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry matches a regex.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>pattern [String] The regex to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">86
87
88</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} matches {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; matches the regex \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'>pattern</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition33-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} is a timestamp"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+is+a+timestamp%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:94</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry is a timestamp.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Uses</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_regex'>regex</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d{4}\-\d{2}\-\d{2}T\d{2}:\d{2}:[\d\.]+Z?$</span><span class='regexp_end'>/</span></span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">94
95
96</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} is a timestamp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; matches the regex \&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../top-level-namespace.html#TIMESTAMP_REGEX-constant" title="TIMESTAMP_REGEX (constant)">TIMESTAMP_REGEX</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition34-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} is a parsable timestamp in seconds"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+is+a+parsable+timestamp+in+seconds%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:101</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry is a numeric and parsable
timestamp.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">101
102
103</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} is a parsable timestamp in seconds</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; is a parsable timestamp in seconds</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition35-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} equals the environment variable {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+equals+the+environment+variable+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:109</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests the Event field value against an environment variable.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload element to check</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>env_var [String] The environment variable to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">109
110
111</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} equals the environment variable {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_env_var'>env_var</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals the environment variable \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env_var'>env_var</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition36-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event {string} matches the JSON fixture in {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+%7Bstring%7D+matches+the+JSON+fixture+in+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:117</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first event entry matches a JSON fixture.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>fixture_path [String] The fixture to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">117
118
119</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event {string} matches the JSON fixture in {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; matches the JSON fixture in \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition37-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event has a {string} breadcrumb named {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+has+a+%7Bstring%7D+breadcrumb+named+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:125</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether the first event entry contains a specific breadcrumb with a
type and name.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>type [String] The expected breadcrumb&#39;s type</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>name [String] The expected breadcrumb&#39;s name</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">125
126
127
128
129
130
131
132
133
134</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event has a {string} breadcrumb named {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_name'>name</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>breadcrumbs</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_crumb'>crumb</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_crumb'>crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_type'>type</span> <span class='kw'>and</span> <span class='id identifier rubyid_crumb'>crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_name'>name</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_fail'>fail</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No breadcrumb matched: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_found'>found</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition38-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the event has a {string} breadcrumb with message {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+event+has+a+%7Bstring%7D+breadcrumb+with+message+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:140</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether the first event entry contains a specific breadcrumb with a
type and message.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>type [String] The expected breadcrumb&#39;s type</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>message [String] The expected breadcrumb&#39;s message</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">140
141
142
143
144
145
146
147
148
149</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the event has a {string} breadcrumb with message {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='comma'>,</span> <span class='id identifier rubyid_message'>message</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>breadcrumbs</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_crumb'>crumb</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_crumb'>crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_type'>type</span> <span class='kw'>and</span> <span class='id identifier rubyid_crumb'>crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metaData</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='kw'>and</span> <span class='id identifier rubyid_crumb'>crumb</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>metaData</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>message</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_message'>message</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_found'>found</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_fail'>fail</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No breadcrumb matched: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_found'>found</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition39-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the exception {string} starts with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+exception+%7Bstring%7D+starts+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:155</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first exception of the first event entry
starts with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">155
156
157</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the exception {string} starts with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.exceptions.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; starts with \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition40-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the exception {string} ends with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+exception+%7Bstring%7D+ends+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:163</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first exception of the first event entry ends
with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">163
164
165</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the exception {string} ends with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.exceptions.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; ends with \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition41-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the exception {string} equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+exception+%7Bstring%7D+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:171</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first exception of the first event entry
equals a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">171
172
173</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the exception {string} equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.exceptions.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition42-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the exception {string} matches {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+exception+%7Bstring%7D+matches+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:179</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first exception of the first event entry
matches a regex.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>pattern [String] The regex to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">179
180
181</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the exception {string} matches {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;events.0.exceptions.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; matches the regex \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'>pattern</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition43-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} of stack frame {int} equals {int}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+of+stack+frame+%7Bint%7D+equals+%7Bint%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:188</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a element of a stack frame in the first exception of the
first event equals an integer.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The element of the stack frame to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>num [Integer] The stack frame where the element is present</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>value [Integer] The value to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">188
189
190
191</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} of stack frame {int} equals {int}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
  <span class='id identifier rubyid_field'>field</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events.0.exceptions.0.stacktrace.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_num'>num</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition44-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} of stack frame {int} matches {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+of+stack+frame+%7Bint%7D+matches+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:198</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether an element of a stack frame in the first exception of the
first event matches a regex pattern.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The element of the stack frame to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>num [Integer] The stack frame where the element is present</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>pattern [String] The regex to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">198
199
200
201</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} of stack frame {int} matches {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_pattern'>pattern</span><span class='op'>|</span>
  <span class='id identifier rubyid_field'>field</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events.0.exceptions.0.stacktrace.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_num'>num</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; matches the regex \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pattern'>pattern</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition45-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} of stack frame {int} equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+of+stack+frame+%7Bint%7D+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:208</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether an element of a stack frame in the first exception of the
first event equals a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The element of the stack frame to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>num [Integer] The stack frame where the element is present</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>value [String] The value to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">208
209
210
211</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} of stack frame {int} equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
  <span class='id identifier rubyid_field'>field</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events.0.exceptions.0.stacktrace.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_num'>num</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition46-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} of stack frame {int} starts with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+of+stack+frame+%7Bint%7D+starts+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:218</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether an element of a stack frame in the first exception of the
first event starts with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The element of the stack frame to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>num [Integer] The stack frame where the element is present</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>value [String] The value to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">218
219
220
221</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} of stack frame {int} starts with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
  <span class='id identifier rubyid_field'>field</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events.0.exceptions.0.stacktrace.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_num'>num</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; starts with \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition47-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} of stack frame {int} ends with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+of+stack+frame+%7Bint%7D+ends+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:228</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether an element of a stack frame in the first exception of the
first event ends with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The element of the stack frame to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>num [Integer] The stack frame where the element is present</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>value [String] The value to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">228
229
230
231</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} of stack frame {int} ends with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
  <span class='id identifier rubyid_field'>field</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events.0.exceptions.0.stacktrace.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_num'>num</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; ends with \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition48-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">/^the "(.*)" of stack frame (\d*) is (true|false|null|not null)$/</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%2F%5Ethe+%22(%2E*)%22+of+stack+frame+(%5Cd*)+is+(true%7Cfalse%7Cnull%7Cnot+null)$%2F" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:238</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether an element of a stack frame in the first exception of the
first event matches a literal.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The element of the stack frame to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>num [Integer] The stack frame where the element is present</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>literal [Enum] The literal to test against, one of: true, false, null, not
null</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">238
239
240
241</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^the &quot;(.*)&quot; of stack frame (\d*) is (true|false|null|not null)$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_num'>num</span><span class='comma'>,</span> <span class='id identifier rubyid_literal'>literal</span><span class='op'>|</span>
  <span class='id identifier rubyid_field'>field</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>events.0.exceptions.0.stacktrace.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_num'>num</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_key'>key</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_literal'>literal</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition49-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the thread with name {string} contains the error reporting flag"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+thread+with+name+%7Bstring%7D+contains+the+error+reporting+flag%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:246</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a thread from the first event, identified by name, is the
error reporting thread.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>thread_name [String] The name of the thread to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">246
247
248</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the thread with name {string} contains the error reporting flag</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_thread_name'>thread_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_validate_error_reporting_thread'><span class='object_link'><a href="../top-level-namespace.html#validate_error_reporting_thread-instance_method" title="#validate_error_reporting_thread (method)">validate_error_reporting_thread</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>name</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_thread_name'>thread_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition50-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the thread with id {string} contains the error reporting flag"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+thread+with+id+%7Bstring%7D+contains+the+error+reporting+flag%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/error_reporting_steps.rb:253</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a thread from the first event, identified by an id, is the
error reporting thread.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>thread_id [String] The id of the thread to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">253
254
255</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the thread with id {string} contains the error reporting flag</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_thread_id'>thread_id</span><span class='op'>|</span>
  <span class='id identifier rubyid_validate_error_reporting_thread'><span class='object_link'><a href="../top-level-namespace.html#validate_error_reporting_thread-instance_method" title="#validate_error_reporting_thread (method)">validate_error_reporting_thread</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>id</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_thread_id'>thread_id</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition51-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the request is valid for the session reporting API version {string} for the {string} notifier"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+request+is+valid+for+the+session+reporting+API+version+%7Bstring%7D+for+the+%7Bstring%7D+notifier%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:8</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Verifies that generic elements of a session payload are present. APIKey
fields and headers are tested against the &#39;$api_key&#39; global
variable.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>payload_version [String] The payload version expected</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>notifier_name [String] The expected name of the notifier</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">8
9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the request is valid for the session reporting API version {string} for the {string} notifier</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_payload_version'>payload_version</span><span class='comma'>,</span> <span class='id identifier rubyid_notifier_name'>notifier_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
    Then the &quot;bugsnag-api-key&quot; header equals &quot;</span><span class='embexpr_beg'>#{</span><span class='gvar'>$api_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the &quot;bugsnag-payload-version&quot; header equals &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payload_version'>payload_version</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the &quot;Content-Type&quot; header equals &quot;application/json&quot;
    And the &quot;Bugsnag-Sent-At&quot; header is a timestamp

    And the payload field &quot;notifier.name&quot; equals &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_notifier_name'>notifier_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;
    And the payload field &quot;notifier.url&quot; is not null
    And the payload field &quot;notifier.version&quot; is not null

    And the payload field &quot;app&quot; is not null
    And the payload field &quot;device&quot; is not null
  </span><span class='tstring_end'>}</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition52-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">/^the session "(.+)" is (true|false|null|not null)$/</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%2F%5Ethe+session+%22(%2E%2B)%22+is+(true%7Cfalse%7Cnull%7Cnot+null)$%2F" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:28</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first session entry matches a literal.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>literal [Enum] The literal to test against, one of: true, false, null, not
null</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">28
29
30</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^the session &quot;(.+)&quot; is (true|false|null|not null)$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_literal'>literal</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;sessions.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_literal'>literal</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition53-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the session {string} equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+session+%7Bstring%7D+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:36</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first session entry matches a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">36
37
38</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the session {string} equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;sessions.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition54-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the session {string} is a timestamp"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+session+%7Bstring%7D+is+a+timestamp%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:44</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first session entry is a timestamp.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Uses</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_regex'>regex</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d{4}\-\d{2}\-\d{2}T\d{2}:\d{2}:[\d\.]+Z?$</span><span class='regexp_end'>/</span></span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">44
45
46</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the session {string} is a timestamp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;sessions.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; matches the regex \&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../top-level-namespace.html#TIMESTAMP_REGEX-constant" title="TIMESTAMP_REGEX (constant)">TIMESTAMP_REGEX</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition55-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">/^the sessionCount "(.+)" is (true|false|null|not null)$/</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%2F%5Ethe+sessionCount+%22(%2E%2B)%22+is+(true%7Cfalse%7Cnull%7Cnot+null)$%2F" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:52</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first sessionCount entry matches a literal.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>literal [Enum] The literal to test against, one of: true, false, null, not
null</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">52
53
54</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^the sessionCount &quot;(.+)&quot; is (true|false|null|not null)$</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_literal'>literal</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;sessionCounts.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_literal'>literal</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition56-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the sessionCount {string} equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+sessionCount+%7Bstring%7D+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:60</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first sessionCount entry matches a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">60
61
62</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the sessionCount {string} equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;sessionCounts.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition57-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the sessionCount {string} equals {int}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+sessionCount+%7Bstring%7D+equals+%7Bint%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:68</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first sessionCount entry equals an integer.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>int_value [Integer] The integer to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">68
69
70</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the sessionCount {string} equals {int}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_int_value'>int_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;sessionCounts.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; equals </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_int_value'>int_value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition58-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the sessionCount {string} is a timestamp"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+sessionCount+%7Bstring%7D+is+a+timestamp%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:76</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests whether a value in the first sessionCount entry is a timestamp.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Uses</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_regex'>regex</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d{4}\-\d{2}\-\d{2}T\d{2}:\d{2}:[\d\.]+Z?$</span><span class='regexp_end'>/</span></span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The relative location of the value to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">76
77
78</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the sessionCount {string} is a timestamp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='op'>|</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field \&quot;sessionCounts.0.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; matches the regex \&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../top-level-namespace.html#TIMESTAMP_REGEX-constant" title="TIMESTAMP_REGEX (constant)">TIMESTAMP_REGEX</a></span></span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition59-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload has a valid sessions array"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+has+a+valid+sessions+array%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/session_tracking_steps.rb:81</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a payload has an appropriately structured session array</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">81
82
83
84
85
86
87
88
89
90
91
92
93</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload has a valid sessions array</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_sessions'>sessions</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sessions</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
      Then the session &quot;id&quot; is not null
      And the session &quot;startedAt&quot; is a timestamp
    </span><span class='tstring_end'>}</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_steps'>steps</span> <span class='tstring'><span class='tstring_beg'>%Q{</span><span class='tstring_content'>
      Then the sessionCount &quot;sessionsStarted&quot; is not null
      And the sessionCount &quot;startedAt&quot; is a timestamp
    </span><span class='tstring_end'>}</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition60-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"I wait to receive a request"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+wait+to+receive+a+request%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:50</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Shortcut to waiting to receive a single request</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">50
51
52</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I wait to receive a request</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_step'>step</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I wait to receive 1 request</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition61-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"I wait to receive {int} request(s)"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+wait+to+receive+%7Bint%7D+request(s)%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:57</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Continually checks to see if the required amount of requests have been
received. Times out after 30 seconds.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>request_count [Integer] The amount of requests expected</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I wait to receive {int} request(s)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_request_count'>request_count</span><span class='op'>|</span>
  <span class='id identifier rubyid_max_attempts'>max_attempts</span> <span class='op'>=</span> <span class='int'>300</span>
  <span class='id identifier rubyid_attempts'>attempts</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_received'>received</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>until</span> <span class='lparen'>(</span><span class='id identifier rubyid_attempts'>attempts</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_max_attempts'>max_attempts</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_received'>received</span>
    <span class='id identifier rubyid_attempts'>attempts</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_received'>received</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;=</span> <span class='id identifier rubyid_request_count'>request_count</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sleep'>sleep</span> <span class='float'>0.1</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Requests not received in 30s (received </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_received'>received</span>
  <span class='kw'>unless</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='id identifier rubyid_request_count'>request_count</span>
    <span class='gvar'>$logger</span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_request_count'>request_count</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> requests received</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition62-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"I should receive no requests"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+should+receive+no+requests%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:74</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Assert that the test Server hasn&#39;t received any requests.</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">74
75
76</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I should receive no requests</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'> requests received</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition63-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"I discard the oldest request"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22I+discard+the+oldest+request%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:79</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Shifts the received request, dropping the oldest request each time.</p>


  </div>
</div>
<div class="tags">
  

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">79
80
81</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>I discard the oldest request</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span>
  <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_stored_requests'><span class='object_link'><a href="../Server.html#stored_requests-class_method" title="Server.stored_requests (method)">stored_requests</a></span></span><span class='period'>.</span><span class='id identifier rubyid_shift'>shift</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition64-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} header is not null"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+header+is+not+null%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:86</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a header is not null</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>header_name [String] The header to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">86
87
88
89</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} header is not null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_header_name'>header_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_not_nil'>assert_not_nil</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:request</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_header_name'>header_name</span><span class='rbracket'>]</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_header_name'>header_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; header should not be null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition65-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} header equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+header+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:95</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a header equals a string</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>header_name [String] The header to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>header_value [String] The string it should match</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">95
96
97</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} header equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_header_name'>header_name</span><span class='comma'>,</span> <span class='id identifier rubyid_header_value'>header_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_header_value'>header_value</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:request</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_header_name'>header_name</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition66-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} header equals one of:"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+header+equals+one+of:%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:103</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a header matches one of a list of strings</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>header_name [String] The header to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>header_values [DataTable] A parsed data table</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">103
104
105</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} header equals one of:</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_header_name'>header_name</span><span class='comma'>,</span> <span class='id identifier rubyid_header_values'>header_values</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_includes'>assert_includes</span><span class='lparen'>(</span><span class='id identifier rubyid_header_values'>header_values</span><span class='period'>.</span><span class='id identifier rubyid_raw'>raw</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:request</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_header_name'>header_name</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition67-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} header is a timestamp"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+header+is+a+timestamp%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:111</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a header is a timestamp.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Uses</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_regex'>regex</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d{4}\-\d{2}\-\d{2}T\d{2}:\d{2}:[\d\.]+Z?$</span><span class='regexp_end'>/</span></span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>header_name [String] The header to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">111
112
113
114</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} header is a timestamp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_header_name'>header_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_header'>header</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:request</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_header_name'>header_name</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_assert_match'>assert_match</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../top-level-namespace.html#TIMESTAMP_REGEX-constant" title="TIMESTAMP_REGEX (constant)">TIMESTAMP_REGEX</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_header'>header</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition68-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} query parameter equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+query+parameter+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:120</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a query parameter matches a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>parameter_name [String] The parameter to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>parameter_value [String] The expected value</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">120
121
122</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} query parameter equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parameter_name'>parameter_name</span><span class='comma'>,</span> <span class='id identifier rubyid_parameter_value'>parameter_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_parameter_value'>parameter_value</span><span class='comma'>,</span> <span class='id identifier rubyid_parse_querystring'><span class='object_link'><a href="../top-level-namespace.html#parse_querystring-instance_method" title="#parse_querystring (method)">parse_querystring</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_parameter_name'>parameter_name</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition69-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} query parameter is not null"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+query+parameter+is+not+null%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:127</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a query parameter is present and not null.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>parameter_name [String] The parameter to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">127
128
129</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} query parameter is not null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parameter_name'>parameter_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_not_nil'>assert_not_nil</span><span class='lparen'>(</span><span class='id identifier rubyid_parse_querystring'><span class='object_link'><a href="../top-level-namespace.html#parse_querystring-instance_method" title="#parse_querystring (method)">parse_querystring</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_parameter_name'>parameter_name</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_parameter_name'>parameter_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; query parameter should not be null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition70-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the {string} query parameter is a timestamp"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+%7Bstring%7D+query+parameter+is+a+timestamp%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:135</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a query parameter is a timestamp.</p>

<pre class="code ruby"><code class="ruby"><span class='const'>Uses</span> <span class='id identifier rubyid_the'>the</span> <span class='id identifier rubyid_regex'>regex</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^\d{4}\-\d{2}\-\d{2}T\d{2}:\d{2}:[\d\.]+Z?$</span><span class='regexp_end'>/</span></span>
</code></pre>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>parameter_name [String] The parameter to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">135
136
137
138</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the {string} query parameter is a timestamp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_parameter_name'>parameter_name</span><span class='op'>|</span>
  <span class='id identifier rubyid_param'>param</span> <span class='op'>=</span> <span class='id identifier rubyid_parse_querystring'><span class='object_link'><a href="../top-level-namespace.html#parse_querystring-instance_method" title="#parse_querystring (method)">parse_querystring</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='id identifier rubyid_parameter_name'>parameter_name</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_assert_match'>assert_match</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../top-level-namespace.html#TIMESTAMP_REGEX-constant" title="TIMESTAMP_REGEX (constant)">TIMESTAMP_REGEX</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_param'>param</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition71-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the multipart request has {int} fields"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+multipart+request+has+%7Bint%7D+fields%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:143</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests the number of fields a multipart request contains.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>part_count [Integer] The number of expected fields</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">143
144
145
146</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the multipart request has {int} fields</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part_count'>part_count</span><span class='op'>|</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_part_count'>part_count</span><span class='comma'>,</span> <span class='id identifier rubyid_parts'>parts</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition72-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the field {string} for multipart request is not null"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+field+%7Bstring%7D+for+multipart+request+is+not+null%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:151</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a multipart request field exists and is not null.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>part_key [String] The key to the multipart element</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">151
152
153
154</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the field {string} for multipart request is not null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part_key'>part_key</span><span class='op'>|</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_assert_not_nil'>assert_not_nil</span><span class='lparen'>(</span><span class='id identifier rubyid_parts'>parts</span><span class='lbracket'>[</span><span class='id identifier rubyid_part_key'>part_key</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_part_key'>part_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; should not be null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition73-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the field {string} for multipart request equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+field+%7Bstring%7D+for+multipart+request+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:160</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a multipart request field equals a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>part_key [String] The key to the multipart element</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>expected_value [String] The string to match against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">160
161
162
163</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the field {string} for multipart request equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part_key'>part_key</span><span class='comma'>,</span> <span class='id identifier rubyid_expected_value'>expected_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_parts'>parts</span><span class='lbracket'>[</span><span class='id identifier rubyid_part_key'>part_key</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_expected_value'>expected_value</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition74-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the field {string} for multipart request is null"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+field+%7Bstring%7D+for+multipart+request+is+null%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:168</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a multipart request field is null.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>part_key [String] The key to the multipart element</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">168
169
170
171</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the field {string} for multipart request is null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_part_key'>part_key</span><span class='op'>|</span>
  <span class='id identifier rubyid_parts'>parts</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_assert_nil'>assert_nil</span><span class='lparen'>(</span><span class='id identifier rubyid_parts'>parts</span><span class='lbracket'>[</span><span class='id identifier rubyid_part_key'>part_key</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_part_key'>part_key</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; should be null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition75-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload body does not match the JSON fixture in {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+body+does+not+match+the+JSON+fixture+in+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:176</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests the payload body does not match a JSON fixture.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>fixture_path [String] Path to a JSON fixture</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">176
177
178
179
180
181</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload body does not match the JSON fixture in {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_payload_value'>payload_value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_expected_value'>expected_value</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbol'>:read</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_value_compare'><span class='object_link'><a href="../top-level-namespace.html#value_compare-instance_method" title="#value_compare (method)">value_compare</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_expected_value'>expected_value</span><span class='comma'>,</span> <span class='id identifier rubyid_payload_value'>payload_value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_false'>assert_false</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Payload:\n</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_payload_value'>payload_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>\nExpected:</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_expected_value'>expected_value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition76-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload body matches the JSON fixture in {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+body+matches+the+JSON+fixture+in+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:186</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Test the payload body matches a JSON fixture.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>fixture_path [String] Path to a JSON fixture</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">186
187
188
189
190
191</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload body matches the JSON fixture in {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_payload_value'>payload_value</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_expected_value'>expected_value</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbol'>:read</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_value_compare'><span class='object_link'><a href="../top-level-namespace.html#value_compare-instance_method" title="#value_compare (method)">value_compare</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_expected_value'>expected_value</span><span class='comma'>,</span> <span class='id identifier rubyid_payload_value'>payload_value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_true'>assert_true</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The payload field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_keypath'>keypath</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; does not match the fixture:\n </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_reasons'>reasons</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition77-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} matches the JSON fixture in {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+matches+the+JSON+fixture+in+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:197</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Test that a payload element matches a JSON fixture.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] Path to the tested element</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>fixture_path [String] Path to a JSON fixture</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">197
198
199
200
201
202</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} matches the JSON fixture in {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_payload_value'>payload_value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_expected_value'>expected_value</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_fixture_path'>fixture_path</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='symbol'>:read</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_result'>result</span> <span class='op'>=</span> <span class='id identifier rubyid_value_compare'><span class='object_link'><a href="../top-level-namespace.html#value_compare-instance_method" title="#value_compare (method)">value_compare</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_expected_value'>expected_value</span><span class='comma'>,</span> <span class='id identifier rubyid_payload_value'>payload_value</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_true'>assert_true</span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_equal?'>equal?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The payload field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_keypath'>keypath</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; does not match the fixture:\n </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result'>result</span><span class='period'>.</span><span class='id identifier rubyid_reasons'>reasons</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition78-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is true"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+true%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:207</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a payload element is true.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] Path to the tested element</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">207
208
209</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is true</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition79-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is false"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+false%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:214</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a payload element is false.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] Path to the tested element</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">214
215
216</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is false</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='kw'>false</span><span class='comma'>,</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition80-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is null"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+null%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:221</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a payload element is null.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] Path to the tested element</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">221
222
223
224</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_nil'>assert_nil</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_path'>field_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; should be null but is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition81-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is not null"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+not+null%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:229</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a payload element is not null.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] Path to the tested element</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">229
230
231
232</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is not null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_not_nil'>assert_not_nil</span><span class='lparen'>(</span><span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span><span class='comma'>,</span>
                <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_path'>field_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; should not be null</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition82-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} equals {int}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+equals+%7Bint%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:238</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests that a payload element equals an integer.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] Path to the tested element</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>int_value [Integer] The value to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">238
239
240</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} equals {int}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_int_value'>int_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_int_value'>int_value</span><span class='comma'>,</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition83-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} equals the environment variable {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+equals+the+environment+variable+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:246</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests the payload field value against an environment variable.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>env_var [String] The environment variable to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">246
247
248
249
250
251
252</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} equals the environment variable {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_env_var'>env_var</span><span class='op'>|</span>
  <span class='id identifier rubyid_environment_value'>environment_value</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='id identifier rubyid_env_var'>env_var</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_assert_false'>assert_false</span><span class='lparen'>(</span><span class='id identifier rubyid_environment_value'>environment_value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The environment variable </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_env_var'>env_var</span><span class='embexpr_end'>}</span><span class='tstring_content'> must not be nil</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_environment_value'>environment_value</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition84-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is greater than {int}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+greater+than+%7Bint%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:258</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field contains a number larger than a value.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>int_value [Integer] The value to compare against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">258
259
260
261
262</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is greater than {int}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_int_value'>int_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'>Integer</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_assert'>assert</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_int_value'>int_value</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The payload field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_path'>field_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; is not greater than &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_int_value'>int_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition85-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is less than {int}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+less+than+%7Bint%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:268</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field contains a number smaller than a value.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>int_value [Integer] The value to compare against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">268
269
270
271
272</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is less than {int}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_int_value'>int_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'>Integer</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_assert'>assert</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_int_value'>int_value</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The payload field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_path'>field_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; is not less than &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_int_value'>int_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition86-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} equals {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+equals+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:278</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field equals a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">278
279
280</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} equals {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_string_value'>string_value</span><span class='comma'>,</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition87-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} starts with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+starts+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:286</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field starts with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">286
287
288
289
290</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} starts with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'>String</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_assert'>assert</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='id identifier rubyid_string_value'>string_value</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_path'>field_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; value (&#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_value'>value</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;) does not start with &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition88-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} ends with {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+ends+with+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:296</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field ends with a string.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field_path [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>string_value [String] The string to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">296
297
298
299
300</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} ends with {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field_path'>field_path</span><span class='comma'>,</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field_path'>field_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'>String</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_assert'>assert</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_end_with?'>end_with?</span> <span class='id identifier rubyid_string_value'>string_value</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field_path'>field_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; does not end with &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_string_value'>string_value</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition89-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is an array with {int} elements"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+an+array+with+%7Bint%7D+elements%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:306</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field is an array with a specific element count.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>count [Integer] The value expected</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">306
307
308
309
310</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is an array with {int} elements</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_count'>count</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_assert_equal'>assert_equal</span><span class='lparen'>(</span><span class='id identifier rubyid_count'>count</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition90-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is a non-empty array"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+a+non-empty+array%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:315</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field is an array with at least one element.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload element to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">315
316
317
318
319</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is a non-empty array</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_kind_of'>assert_kind_of</span> <span class='const'>Array</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span>
  <span class='id identifier rubyid_assert'>assert</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the field &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_field'>field</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; must be a non-empty array</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition91-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} matches the regex {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+matches+the+regex+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:325</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field matches a regex.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload element to test</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>regex [String] The regex to test against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">325
326
327
328
329</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} matches the regex {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_regex_string'>regex_string</span><span class='op'>|</span>
  <span class='id identifier rubyid_regex'>regex</span> <span class='op'>=</span> <span class='const'>Regexp</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_regex_string'>regex_string</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_assert_match'>assert_match</span><span class='lparen'>(</span><span class='id identifier rubyid_regex'>regex</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition92-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is a parsable timestamp in seconds"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+a+parsable+timestamp+in+seconds%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/request_assertion_steps.rb:334</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Tests a payload field is a numeric timestamp.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload element to test</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">334
335
336
337
338
339
340
341
342</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is a parsable timestamp in seconds</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_int'>int</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_parsed_time'>parsed_time</span> <span class='op'>=</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_at'>at</span><span class='lparen'>(</span><span class='id identifier rubyid_int'>int</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_exception'>exception</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_assert_not_nil'>assert_not_nil</span><span class='lparen'>(</span><span class='id identifier rubyid_parsed_time'>parsed_time</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>



<div class="transformer stepdefinition
                        nodefinitions
                        ">
  <a name="step_definition1-stepdefinition"></a>
  <div class="title">
    <span class="pre">Then</span>
    <span class="name">"the payload field {string} is stored as the value {string}"</span>
    <div style="float: right;">
      <a href="http://rubular.com/?regex=%22the+payload+field+%7Bstring%7D+is+stored+as+the+value+%7Bstring%7D%22" target="_blank">Rubular</a>
      
      | UNUSED
      <a class="stepdef" href="#">[Collapse]</a>
    </div>
    <div style="clear: both;"></div>
  </div>

  <div class="details">
    
    <div class="meta" style="clear: right;">
      <div class="file">lib/features/steps/value_steps.rb:7</div>
    </div>
    
    <!-- Comments -->
    <div>
      <div class="docstring">
  <div class="discussion">
    
<p>Stores a payload value against a key for cross-request comparisons.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Step parameters:</p>
<ul class="step_input">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>field [String] The payload field to store</p>
</div>
      
    </li>
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>key [String] The key to store the value against</p>
</div>
      
    </li>
  
</ul>

</div>
    </div>
    

    <!-- Source Code -->
    <div class="method_details_list">
      <table class="source_code">
        <tr>
          <td>
            <pre class="lines">7
8
9
10</pre>
          </td>
          <td>
            <pre class="code"><span class='const'>Then</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>the payload field {string} is stored as the value {string}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_key'>key</span><span class='op'>|</span>
  <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_read_key_path'><span class='object_link'><a href="../top-level-namespace.html#read_key_path-instance_method" title="#read_key_path (method)">read_key_path</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Server.html" title="Server (class)">Server</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current_request'><span class='object_link'><a href="../Server.html#current_request-class_method" title="Server.current_request (method)">current_request</a></span></span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../Store.html" title="Store (class)">Store</a></span></span><span class='period'>.</span><span class='id identifier rubyid_values'><span class='object_link'><a href="../Store.html#values-class_method" title="Store.values (method)">values</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
<span class='kw'>end</span></pre>
          </td>
        </tr>
      </table>
    </div>

    <!-- Matching Step Instances -->
    
    <div class="steps">
      
      <div class="undefined">No steps were found to match this step definition.</div>
      
    </div>
    
  </div>

  <div style="margin: 30px 20px; border-top: 1px dotted #AAA;"></div>

</div>

<div class="title">
  
     <a class="control" id="steptransform">[Collapse All]</a>
     <div style="clear: right;"></div>
   
 
  
    <a name="step_transforms">
  
  <div class="name">Step Transforms</div>
</div>

<div class="title">
  
 
  
    <a name="undefined_steps">
  
  <div class="name">Undefined Steps</div>
</div>

<div class="transformer">
  <div class="steps">
  
    <div class="steps">
      <div class="undefined">No undefined steps</div>
    </div>
    
  </div>
</div>
</div>

      <div id="footer">
  Generated on Thu Sep 26 11:47:32 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.19 (ruby-2.5.1).
</div>

    </div>
  </body>
</html>